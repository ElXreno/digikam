diff -up digikam-1.8.0/CMakeLists.txt.libjpeg_version digikam-1.8.0/CMakeLists.txt
--- digikam-1.8.0/CMakeLists.txt.libjpeg_version	2011-01-23 13:33:57.000000000 -0600
+++ digikam-1.8.0/CMakeLists.txt	2011-02-04 12:17:54.102537201 -0600
@@ -154,6 +154,7 @@ ENDIF(NOT APPLE)
 # Extract version of libjpeg so that we can use the appropriate dir
 # See bug #227313, #228483
 FILE(READ "${JPEG_INCLUDE_DIR}/jpeglib.h" jpeglib_h_content)
+FILE(READ "${JPEG_INCLUDE_DIR}/jconfig.h" jpeglib_h_content)
 STRING(REGEX REPLACE ".*#define +JPEG_LIB_VERSION +([0-9]+).*" "\\1" jpeglib_version "${jpeglib_h_content}")
 MESSAGE(STATUS "Identified libjpeg version: ${jpeglib_version}")
 
